{"version":3,"sources":["components/Header/index.js","config/axios.js","api-calls/index.js","sagas/index.js","types/index.js","reducers/products-reducer.js","reducers/alert-reducer.js","reducers/index.js","store.js","actions/products-actions.js","components/Product/index.js","components/Products/index.js","actions/alert-actions.js","components/NewProduct/index.js","components/EditProduct/index.js","App.js","serviceWorker.js","index.js"],"names":["Header","className","to","isLocalhost","Boolean","window","location","hostname","match","axiosClient","axios","create","baseURL","retrieveProductsDB","a","async","get","addProductDB","product","post","deleteProductDB","id","delete","editProductDB","put","retrieveProducts","retrieveProductsSaga","addProduct","addProductSaga","deleteProduct","deleteProductSaga","editProduct","editProductSaga","rootSaga","call","data","downloadProductsOkAction","downloadProductsErrorAction","takeEvery","action","addProductOkAction","Swal","fire","title","text","icon","confirmButtonColor","addProductErrorAction","payload","deleteProductOkAction","deleteProductErrorAction","editProductOkAction","editProductErrorAction","all","initialState","products","error","loading","alert","combineReducers","state","type","filter","map","sagaMiddleware","createSagaMiddleware","store","createStore","reducer","compose","applyMiddleware","__REDUX_DEVTOOLS_EXTENSION__","f","run","dispatch","downloadProductsOk","addProductError","editProductOk","Product","history","useHistory","name","price","confirmDeleteProduct","showCancelButton","cancelButtonColor","confirmButtonText","then","result","value","retrieveProductDelete","deleteProductAction","redirectionEdition","retrieveProductAction","retrieveProductEditAction","push","onClick","Products","useEffect","useSelector","length","key","showAlert","createAlert","Newproduct","useState","setName","setPrice","onSubmit","event","preventDefault","trim","msg","placeholder","onChange","target","min","Number","EditProduct","productEdit","setProduct","onChangeForm","editProductAction","App","exact","path","component","NewProduct","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.131f64c8.chunk.js","sourcesContent":["import React from 'react'\nimport { Link } from 'react-router-dom'\nimport './index.css'\n\nconst Header = () => {\n  return (\n    <nav className='header'>\n      <div>\n        <h1 className='header__title'>Juice store</h1>\n      </div>\n      <button className='button button--new'>\n        <Link to={'/products/new'}>Add product</Link>\n      </button>\n    </nav>\n  )\n}\n\nexport default Header","import axios from 'axios';\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nconst axiosClient = axios.create({\n  baseURL: isLocalhost\n    ? 'http://localhost:4000/'\n    : 'https://crud-redux-server-1.herokuapp.com/',\n});\n\nexport default axiosClient;\n","import axiosClient from '../config/axios'\n\nexport async function retrieveProductsDB() {\n  return await axiosClient.get('/products')\n}\n\nexport async function addProductDB(product) {\n  return await axiosClient.post('/products', product)\n}\n\nexport async function deleteProductDB(id) {\n  return await axiosClient.delete(`/products/${id}`)\n}\n\nexport async function editProductDB(product) {\n  return await axiosClient.put(`/products/${product.id}`, product)\n}\n","import { put, takeEvery, all, call } from 'redux-saga/effects'\nimport Swal from 'sweetalert2'\nimport {\n  ADD_PRODUCT,\n  BEGIN_PRODUCTS_DOWNLOAD,\n  RETRIEVE_PRODUCT_DELETE,\n  BEGIN_EDIT_PRODUCT,\n} from '../types'\n\nimport {\n  downloadProductsOkAction,\n  downloadProductsErrorAction,\n  addProductOkAction,\n  addProductErrorAction,\n  deleteProductOkAction,\n  deleteProductErrorAction,\n  editProductOkAction,\n  editProductErrorAction\n} from '../actions/products-actions'\n\nimport {\n  retrieveProductsDB,\n  addProductDB,\n  deleteProductDB,\n  editProductDB\n} from '../api-calls'\n\n// Retrieve products\n// worker saga\nfunction* retrieveProducts() {\n  try {\n    const {data} = yield call(retrieveProductsDB)\n    yield downloadProductsOkAction(data)\n  } catch (error) {\n    yield put(downloadProductsErrorAction())\n  }\n}\n\n// watcher saga\nfunction* retrieveProductsSaga() {\n  yield takeEvery(BEGIN_PRODUCTS_DOWNLOAD, retrieveProducts)\n}\n\n\n// Create new product\n// worker saga\nfunction* addProduct(action) {\n  const product = action.product\n  try {\n    yield call(addProductDB, product)\n   /* const response = await axiosClient.post('/products', product)*/\n    yield addProductOkAction(product) // download actualized products\n      // Alert\n    Swal.fire({\n      title: 'Added!',\n      text: 'The product has been added successfully',\n      icon: 'success',\n      confirmButtonColor: '#62a086'\n    })\n  } catch (error) {\n    yield addProductErrorAction(true)\n    Swal.fire({\n      icon: 'error',\n      title: 'Error',\n      text: 'An error ocurred. Please, try it again.'\n    })\n  }\n}\n\n// watcher saga\nfunction* addProductSaga() {\n  yield takeEvery(ADD_PRODUCT, addProduct)\n}\n\n\n// Delete product\n// worker saga\nfunction* deleteProduct(action) {\n  const id = action.payload\n  try {\n    yield call(deleteProductDB, id)\n    yield deleteProductOkAction()\n    Swal.fire({\n      title: 'Deleted!',\n      text: 'The product has been deleted.',\n      icon: 'success',\n      confirmButtonColor: '#62a086'\n    })\n  } catch (error) {\n    yield deleteProductErrorAction()\n  }\n}\n\n// watcher saga\nfunction* deleteProductSaga() {\n  yield takeEvery(RETRIEVE_PRODUCT_DELETE, deleteProduct)\n}\n\n\n// Edit product\n// worker saga\nfunction* editProduct(action) {\n  const product = action.product\n  try {\n    yield call(editProductDB, product)\n    yield editProductOkAction(product)\n     // Alert\n    Swal.fire({\n      title: 'Updated!',\n      text: 'The product has been updated.',\n      icon: 'success',\n      confirmButtonColor: '#62a086'\n    })\n  } catch (error) {\n    yield editProductErrorAction()\n  }\n}\n\n// watcher saga\nfunction* editProductSaga() {\n  yield takeEvery(BEGIN_EDIT_PRODUCT, editProduct)\n}\n\n// Export all sagas\nexport default function* rootSaga() {\n  yield all([\n    retrieveProductsSaga(),\n    addProductSaga(),\n    deleteProductSaga(),\n    editProductSaga()\n  ])\n}\n","export const ADD_PRODUCT = 'ADD_PRODUCT'\nexport const ADD_PRODUCT_OK = 'ADD_PRODUCT_OK'\nexport const ADD_PRODUCT_ERROR = 'ADD_PRODUCT_ERROR'\n\nexport const BEGIN_PRODUCTS_DOWNLOAD = 'BEGIN_PRODUCTS_DOWNLOAD'\nexport const PRODUCTS_DOWNLOAD_OK = 'PRODUCTS_DOWNLOAD_OK'\nexport const PRODUCTS_DOWNLOAD_ERROR = 'PRODUCTS_DOWNLOAD_ERROR'\n\nexport const RETRIEVE_PRODUCT_DELETE = 'RETRIEVE_PRODUCT_DELETE'\nexport const PRODUCT_DELETED_OK = 'PRODUCT_DELETED_OK'\nexport const PRODUCT_DELETED_ERROR = 'PRODUCT_DELETED_ERROR'\n\nexport const RETRIEVE_PRODUCT_EDIT= 'RETRIEVE_PRODUCT_EDITED'\nexport const BEGIN_EDIT_PRODUCT = 'BEGIN_EDIT_PRODUCT'\nexport const PRODUCT_EDITED_OK = 'PRODUCT_EDITED_OK'\nexport const PRODUCT_EDITED_ERROR = 'PRODUCT_EDITED_ERROR'\n\nexport const SHOW_ALERT = 'SHOW_ALERT'\nexport const HIDE_ALERT = 'HIDE_ALERT'\n","import {\n  ADD_PRODUCT,\n  ADD_PRODUCT_OK,\n  ADD_PRODUCT_ERROR,\n  BEGIN_PRODUCTS_DOWNLOAD,\n  PRODUCTS_DOWNLOAD_OK,\n  PRODUCTS_DOWNLOAD_ERROR,\n  RETRIEVE_PRODUCT_DELETE,\n  PRODUCT_DELETED_OK,\n  PRODUCT_DELETED_ERROR,\n  RETRIEVE_PRODUCT_EDIT,\n  BEGIN_EDIT_PRODUCT,\n  PRODUCT_EDITED_OK,\n  PRODUCT_EDITED_ERROR\n} from '../types'\n\nconst initialState = {\n  products: [],\n  error: false,\n  loading: false,\n  deleteProduct: null\n}\n\nexport default function(state = initialState, action) {\n  switch(action.type) {\n\n    case BEGIN_PRODUCTS_DOWNLOAD:\n    case ADD_PRODUCT:\n    case BEGIN_EDIT_PRODUCT:\n      return {\n        ...state,\n        loading: action.payload,\n        product: action.product\n      }\n\n    case ADD_PRODUCT_OK:\n      return {\n        ...state,\n        loading: false\n      }\n\n    case ADD_PRODUCT_ERROR:\n    case PRODUCTS_DOWNLOAD_ERROR:\n    case PRODUCT_DELETED_ERROR:\n    case PRODUCT_EDITED_ERROR:\n      return {\n        ...state,\n        loading: false,\n        error: action.payload\n      }\n\n    case PRODUCTS_DOWNLOAD_OK:\n      return {\n        ...state,\n        loading: false,\n        error: null,\n        products: action.payload\n      }\n\n    case RETRIEVE_PRODUCT_DELETE:\n      return {\n        ...state,\n        deleteProduct: action.payload\n      }\n\n    case PRODUCT_DELETED_OK:\n      return {\n        ...state,\n        products: state.products.filter(product => product.id !== state.deleteProduct),\n        deleteProduct: null\n      }\n\n    case RETRIEVE_PRODUCT_EDIT:\n      return {\n        ...state,\n        editProduct: action.payload\n      }\n\n    case PRODUCT_EDITED_OK:\n      return {\n        ...state,\n        editProduct: null,\n        products: state.products.map(product =>\n          product.id === action.payload.id ? product = action.payload : product\n        )\n      }\n\n    default:\n      return state\n  }\n}","import {\n  SHOW_ALERT,\n  HIDE_ALERT\n} from '../types'\n\n// every reducer has it own state\nconst initialState = {\n  alert: null\n}\n\nexport default function(state = initialState, action) {\n  switch(action.type) {\n    case SHOW_ALERT:\n      return {\n        ...state,\n        alert: action.payload\n      }\n\n    case HIDE_ALERT:\n      return {\n        ...state,\n        alert: null\n      }\n\n    default:\n      return state\n  }\n}","import { combineReducers } from 'redux'\nimport productsReducer from './products-reducer'\nimport alertReducer from './alert-reducer'\n\nexport default combineReducers({\n  products: productsReducer,\n  alert: alertReducer\n})\n\n// If we are going to have several reducers, we must use combine them because there can only be one\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport createSagaMiddleware from 'redux-saga'\nimport rootSaga from './sagas'\nimport reducer from './reducers'\n\nconst sagaMiddleware = createSagaMiddleware()\nconst store = createStore(\n  reducer,\n  compose(\n    applyMiddleware(sagaMiddleware),\n    typeof window === 'object' && typeof window.__REDUX_DEVTOOLS_EXTENSION__\n    ? window.__REDUX_DEVTOOLS_EXTENSION__() : f => f\n  )\n)\nsagaMiddleware.run(rootSaga)\n\nexport default store\n","import {\n  ADD_PRODUCT,\n  ADD_PRODUCT_ERROR,\n  BEGIN_PRODUCTS_DOWNLOAD,\n  PRODUCTS_DOWNLOAD_OK,\n  PRODUCTS_DOWNLOAD_ERROR,\n  RETRIEVE_PRODUCT_DELETE,\n  PRODUCT_DELETED_OK,\n  PRODUCT_DELETED_ERROR,\n  RETRIEVE_PRODUCT_EDIT,\n  BEGIN_EDIT_PRODUCT,\n  PRODUCT_EDITED_OK,\n  PRODUCT_EDITED_ERROR\n} from '../types'\nimport store from '../store'\n\n\n// Download products actions\nconst downloadProducts = () => ({\n  type: BEGIN_PRODUCTS_DOWNLOAD,\n  payload: true\n})\n\nconst downloadProductsOk = products => ({\n  type: PRODUCTS_DOWNLOAD_OK,\n  payload: products\n})\n\nconst downloadProductsError = () => ({\n  type: PRODUCTS_DOWNLOAD_ERROR,\n  payload: true\n})\n\nexport const downloadProductsAction = () => store.dispatch(downloadProducts())\n\nexport const downloadProductsOkAction = products => store.dispatch(downloadProductsOk(products))\n\nexport const downloadProductsErrorAction = () => store.dispatch(downloadProductsError())\n\n\n// Create new products\nconst addProduct = product => ({\n  type: ADD_PRODUCT,\n  payload: true,\n  product: product\n})\n\nconst addProductOk = () => ({\n  type: BEGIN_PRODUCTS_DOWNLOAD,\n  payload: true\n})\n\nconst addProductError = state => ({\n  type: ADD_PRODUCT_ERROR,\n  payload: state\n})\n\nexport const addProductAction = product => store.dispatch(addProduct(product))\n\nexport const addProductOkAction = () => store.dispatch(addProductOk())\n\nexport const addProductErrorAction = state => store.dispatch(addProductError(state))\n\n\n// Delete products\nconst retrieveProductDelete = id => ({\n  type: RETRIEVE_PRODUCT_DELETE,\n  payload: id\n})\n\nconst deleteProductOk = () => ({\n  type: PRODUCT_DELETED_OK\n})\n\nconst deleteProductError = () => ({\n  type: PRODUCT_DELETED_ERROR,\n  payload: true\n})\n\nexport const deleteProductAction = id => store.dispatch(retrieveProductDelete(id))\n\nexport const deleteProductOkAction = () => store.dispatch(deleteProductOk())\n\nexport const deleteProductErrorAction = () => store.dispatch(deleteProductError())\n\n\n// Edit product\nconst retrieveProductAction = product => ({\n  type: RETRIEVE_PRODUCT_EDIT,\n  payload: product\n})\n\nconst editProduct = product => ({\n  type: BEGIN_EDIT_PRODUCT,\n  product: product\n})\n\nconst editProductOk = product => ({\n  type: PRODUCT_EDITED_OK,\n  payload: product\n})\n\nconst editProductError = () => ({\n  type: PRODUCT_EDITED_ERROR,\n  payload: true\n})\n\nexport const retrieveProductEditAction = product => store.dispatch(retrieveProductAction(product))\n\nexport const editProductAction = product => store.dispatch(editProduct(product))\n\nexport const editProductOkAction = product => store.dispatch(editProductOk(product))\n\nexport const editProductErrorAction = () => store.dispatch(editProductError())\n","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport Swal from 'sweetalert2'\nimport { deleteProductAction, retrieveProductEditAction } from '../../actions/products-actions'\nimport './index.css'\n\nconst Product = (product) => {\n  const history = useHistory()\n  const { name, price, id } = product\n\n  const confirmDeleteProduct = id => {\n    // ask the user for confirmation\n    Swal.fire({\n      title: 'Are you sure you want to delete the product?',\n      text: \"You won't be able to revert this!\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#62a086',\n      cancelButtonColor: '#f66b61',\n      confirmButtonText: 'Yes, delete it!'\n    }).then((result) => {\n      result.value && deleteProductAction(id)\n    })\n  }\n\n  // function that redirects automÃ¡tically, is better than 'Link'\n  const redirectionEdition = product => {\n    retrieveProductEditAction(product)\n    history.push(`products/edit/${id}`)\n  }\n\n  return (\n    <tr>\n      <td>{name}</td>\n      <td className='prices'>{price} $</td>\n      <td className='button-container'>\n        <button\n          className='button button--edit'\n          type='button'\n          onClick={() => redirectionEdition(product)}\n        >Edit</button>\n        <button\n          className='button button--delete'\n          type='button'\n          onClick={() => confirmDeleteProduct(id)}\n        >Delete</button>\n      </td>\n    </tr>\n  )\n}\n\nexport default Product","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { downloadProductsAction } from '../../actions/products-actions'\nimport Product from '../Product'\nimport './index.css'\n\nconst Products = () => {\n  useEffect(() => {\n    (async () => await downloadProductsAction())()\n  }, [])\n\n  let products = useSelector(state => state.products.products)\n  const error = useSelector(state => state.products.error)\n  const loading = useSelector(state => state.products.loading)\n\n  return (\n    <div>\n      <h2 className='table__title'>Products</h2>\n      { error ? <p>An error ocurred</p> : null }\n      { loading ? <p>Loading...</p> : null }\n      <table className='table'>\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th id='table__title-price'>Price</th>\n            <th id='table__title-action'>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          { products.length === 0 ? 'No products yet.' : (\n            products.map(product =>\n              <Product\n                key={product.id}\n                name={product.name}\n                price={product.price}\n                id={product.id}\n              />\n            )\n          )}\n        </tbody>\n      </table>\n    </div>\n  )\n}\n\nexport default Products\n","import {\n  SHOW_ALERT,\n  HIDE_ALERT\n} from '../types'\nimport store from '../store'\n\n// Show alert\nconst createAlert = alert => ({\n  type: SHOW_ALERT,\n  payload: alert\n})\n\nexport const showAlert = alert => store.dispatch(createAlert(alert))\n\n// Hide alert\nconst hideAlert = () => ({\n  type: HIDE_ALERT,\n  payload: null\n})\n\nexport const hideAlertAction = () => store.dispatch(hideAlert())\n","import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { addProductAction } from '../../actions/products-actions'\nimport { showAlert, hideAlertAction } from '../../actions/alert-actions'\nimport './index.css'\n\nconst Newproduct = ({ history }) => {\n  const [name, setName] = useState('')\n  const [price, setPrice] = useState(0)\n\n  // access the store state\n  const loading = useSelector(state => state.products.loading) // true o false\n  const error = useSelector(state => state.products.error) // true o false\n  const alert = useSelector(state => state.alert.alert)\n\n  const submitNewProduct = async event => {\n    event.preventDefault()\n    // validate form\n    if(name.trim() === '' || price <= 0) {\n      const alert = {\n        msg: 'All fields are required.'\n      }\n      showAlert(alert)\n      return\n    }\n    // if no errors\n    hideAlertAction()\n    // create new product\n    await addProductAction({ name, price })\n    // redirect to main component\n    history.push('/')\n  }\n\n  const goBack = () => {\n    history.push('/')\n  }\n\n  return (\n    <div>\n      <h2 className='table__title'>New product</h2>\n      <form\n        className='form'\n        onSubmit={submitNewProduct} >\n        <section className='form__section'>\n          <label>Product name</label>\n          <input\n            type='text'\n            placeholder='Product name'\n            name='name'\n            value={name}\n            onChange={event => setName(event.target.value)}\n          />\n        </section>\n        <section className='form__section'>\n          <label>Product price</label>\n          <input\n            type='number'\n            name='price'\n            min='0'\n            value={price}\n            onChange={event => setPrice(Number(event.target.value))}\n          />\n        </section>\n        <div className='button__container'>\n          <button\n            type='button'\n            className='button button--cancel'\n            onClick={goBack}\n           >Cancel</button>\n          <button className='button button--confirm'>Confirm</button>\n        </div>\n        { alert ? <p className='alert-message'>{alert.msg}</p> : null }\n      </form>\n      { loading ? <p>Loading...</p> : null }\n      { error ? <p>Ups! An error ocurred.</p> : null }\n    </div>\n  )\n}\n\nexport default Newproduct","import React, { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { editProductAction } from '../../actions/products-actions'\nimport { useHistory } from 'react-router-dom'\nimport './index.css'\n\nconst EditProduct = () => {\n  const history = useHistory()\n  const productEdit = useSelector(state => state.products.editProduct)\n  const [product, setProduct] = useState({\n    name: '',\n    price: ''\n  })\n\n  // fill state\n  useEffect(() => {\n    setProduct(productEdit)\n  }, [productEdit])\n\n\n  const submitEditProduct = event => {\n    event.preventDefault()\n    editProductAction(product)\n    history.push('/')\n  }\n\n  // read data from form\n  const onChangeForm = event => {\n    setProduct({\n      ...product,\n      [event.target.name] : event.target.value\n    })\n  }\n\n  const goBack = () => {\n    history.push('/')\n  }\n\n  return (\n    <div>\n       <h2 className='table__title'>Edit product</h2>\n      <form\n        className='form'\n        onSubmit={submitEditProduct}\n      >\n        <section className='form__section'>\n          <label>Product name</label>\n          <input\n            type='text'\n            name='name'\n            value={product.name}\n            onChange={onChangeForm}\n          />\n        </section>\n        <section className='form__section'>\n          <label>Product price</label>\n          <input\n            type='number'\n            name='price'\n            min='0'\n            value={product.price}\n            onChange={onChangeForm}\n          />\n        </section>\n        <div className='button__container'>\n          <button\n            type='button'\n            className='button button--cancel'\n            onClick={goBack}\n           >Cancel</button>\n          <button className='button button--confirm'>Confirm</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default EditProduct","import React from 'react'\nimport Header from './components/Header'\nimport Products from './components/Products'\nimport NewProduct from './components/NewProduct'\nimport EditProduct from './components/EditProduct'\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\n\n// Redux\nimport { Provider } from 'react-redux'\nimport store from './store'\n\nfunction App() {\n  return (\n    <Router>\n      <Provider store={ store }>\n        <Header />\n        <div>\n          <Switch>\n            <Route exact path='/' component={Products} />\n            <Route exact path='/products/new' component={NewProduct} />\n            <Route exact path='/products/edit/:id' component={EditProduct} />\n          </Switch>\n        </div>\n      </Provider>\n    </Router>\n  )\n}\n\nexport default App","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}