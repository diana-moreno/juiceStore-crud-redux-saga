(this["webpackJsonpreact-redux-saga"]=this["webpackJsonpreact-redux-saga"]||[]).push([[0],{46:function(e,t,n){e.exports=n(79)},51:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(25),u=n.n(c),o=n(21),l=(n(51),function(){return r.a.createElement("nav",{className:"header"},r.a.createElement("div",null,r.a.createElement("h1",{className:"header__title"},"Juice store")),r.a.createElement("button",{className:"button button--new"},r.a.createElement(o.b,{to:"/products/new"},"Add product")))}),s=n(3),i=n.n(s),p=n(12),d=n(18),m=n(45),E=n(10),f=n(20),b=n.n(f),O=n(44),_=n.n(O),D=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)),h=_.a.create({baseURL:D?"http://localhost:4000/":"https://crud-redux-server-1.herokuapp.com/"});function R(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.awrap(h.get("/products"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))}function v(e){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap(h.post("/products",e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function y(e){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap(h.delete("/products/".concat(e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function T(e){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap(h.put("/products/".concat(e.id),e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}var w=i.a.mark(I),x=i.a.mark(k),C=i.a.mark(L),N=i.a.mark(S),j=i.a.mark(B),P=i.a.mark(W),U=i.a.mark(G),g=i.a.mark(K),A=i.a.mark(V);function I(){var e,t;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(E.b)(R);case 3:return e=n.sent,t=e.data,n.next=7,F(t);case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(E.c)(M());case 13:case"end":return n.stop()}}),w,null,[[0,9]])}function k(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.d)("BEGIN_PRODUCTS_DOWNLOAD",I);case 2:case"end":return e.stop()}}),x)}function L(e){var t;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.product,n.prev=1,n.next=4,Object(E.b)(v,t);case 4:return n.next=6,Q(t);case 6:b.a.fire({title:"Added!",text:"The product has been added successfully",icon:"success",confirmButtonColor:"#62a086"}),n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(1),n.next=13,Z(!0);case 13:b.a.fire({icon:"error",title:"Error",text:"An error ocurred. Please, try it again."});case 14:case"end":return n.stop()}}),C,null,[[1,9]])}function S(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.d)("ADD_PRODUCT",L);case 2:case"end":return e.stop()}}),N)}function B(e){var t;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object(E.b)(y,t);case 4:return n.next=6,ee();case 6:b.a.fire({title:"Deleted!",text:"The product has been deleted.",icon:"success",confirmButtonColor:"#62a086"}),n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(1),n.next=13,te();case 13:case"end":return n.stop()}}),j,null,[[1,9]])}function W(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.d)("RETRIEVE_PRODUCT_DELETE",B);case 2:case"end":return e.stop()}}),P)}function G(e){var t;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.product,n.prev=1,n.next=4,Object(E.b)(T,t);case 4:return n.next=6,ne(t);case 6:b.a.fire({title:"Updated!",text:"The product has been updated.",icon:"success",confirmButtonColor:"#62a086"}),n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(1),n.next=13,ae();case 13:case"end":return n.stop()}}),U,null,[[1,9]])}function K(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.d)("BEGIN_EDIT_PRODUCT",G);case 2:case"end":return e.stop()}}),g)}function V(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)([k(),S(),W(),K()]);case 2:case"end":return e.stop()}}),A)}var H=n(7),X={products:[],error:!1,loading:!1,deleteProduct:null},J={alert:null},$=Object(d.c)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BEGIN_PRODUCTS_DOWNLOAD":case"ADD_PRODUCT":case"BEGIN_EDIT_PRODUCT":return Object(H.a)({},e,{loading:t.payload,product:t.product});case"ADD_PRODUCT_OK":return Object(H.a)({},e,{loading:!1});case"ADD_PRODUCT_ERROR":case"PRODUCTS_DOWNLOAD_ERROR":case"PRODUCT_DELETED_ERROR":case"PRODUCT_EDITED_ERROR":return Object(H.a)({},e,{loading:!1,error:t.payload});case"PRODUCTS_DOWNLOAD_OK":return Object(H.a)({},e,{loading:!1,error:null,products:t.payload});case"RETRIEVE_PRODUCT_DELETE":return Object(H.a)({},e,{deleteProduct:t.payload});case"PRODUCT_DELETED_OK":return Object(H.a)({},e,{products:e.products.filter((function(t){return t.id!==e.deleteProduct})),deleteProduct:null});case"RETRIEVE_PRODUCT_EDITED":return Object(H.a)({},e,{editProduct:t.payload});case"PRODUCT_EDITED_OK":return Object(H.a)({},e,{editProduct:null,products:e.products.map((function(e){return e.id===t.payload.id?e=t.payload:e}))});default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_ALERT":return Object(H.a)({},e,{alert:t.payload});case"HIDE_ALERT":return Object(H.a)({},e,{alert:null});default:return e}}}),Y=Object(m.a)(),q=Object(d.e)($,Object(d.d)(Object(d.a)(Y),"object"===typeof window&&(window.__REDUX_DEVTOOLS_EXTENSION__,1)?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));Y.run(V);var z=q,F=function(e){return z.dispatch(function(e){return{type:"PRODUCTS_DOWNLOAD_OK",payload:e}}(e))},M=function(){return z.dispatch({type:"PRODUCTS_DOWNLOAD_ERROR",payload:!0})},Q=function(){return z.dispatch({type:"BEGIN_PRODUCTS_DOWNLOAD",payload:!0})},Z=function(e){return z.dispatch(function(e){return{type:"ADD_PRODUCT_ERROR",payload:e}}(e))},ee=function(){return z.dispatch({type:"PRODUCT_DELETED_OK"})},te=function(){return z.dispatch({type:"PRODUCT_DELETED_ERROR",payload:!0})},ne=function(e){return z.dispatch(function(e){return{type:"PRODUCT_EDITED_OK",payload:e}}(e))},ae=function(){return z.dispatch({type:"PRODUCT_EDITED_ERROR",payload:!0})},re=n(19),ce=(n(75),function(e){var t=Object(re.f)(),n=e.name,a=e.price,c=e.id,u=function(e){b.a.fire({title:"Are you sure you want to delete the product?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#62a086",cancelButtonColor:"#f66b61",confirmButtonText:"Yes, delete it!"}).then((function(t){t.value&&function(e){z.dispatch(function(e){return{type:"RETRIEVE_PRODUCT_DELETE",payload:e}}(e))}(e)}))},o=function(e){!function(e){z.dispatch(function(e){return{type:"RETRIEVE_PRODUCT_EDITED",payload:e}}(e))}(e),t.push("products/edit/".concat(c))};return r.a.createElement("tr",null,r.a.createElement("td",null,n),r.a.createElement("td",{className:"prices"},a," $"),r.a.createElement("td",{className:"button-container"},r.a.createElement("button",{className:"button button--edit",type:"button",onClick:function(){return o(e)}},"Edit"),r.a.createElement("button",{className:"button button--delete",type:"button",onClick:function(){return u(c)}},"Delete")))}),ue=(n(76),function(){Object(a.useEffect)((function(){i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.awrap(z.dispatch({type:"BEGIN_PRODUCTS_DOWNLOAD",payload:!0}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))}),[]);var e=Object(p.b)((function(e){return e.products.products})),t=Object(p.b)((function(e){return e.products.error})),n=Object(p.b)((function(e){return e.products.loading}));return r.a.createElement("div",null,r.a.createElement("h2",{className:"table__title"},"Products"),t?r.a.createElement("p",null,"An error ocurred"):null,n?r.a.createElement("p",null,"Loading..."):null,r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",{id:"table__title-price"},"Price"),r.a.createElement("th",{id:"table__title-action"},"Actions"))),r.a.createElement("tbody",null,0===e.length?"No products yet.":e.map((function(e){return r.a.createElement(ce,{key:e.id,name:e.name,price:e.price,id:e.id})})))))}),oe=n(24),le=function(e){return z.dispatch(function(e){return{type:"SHOW_ALERT",payload:e}}(e))},se=(n(77),function(e){var t=e.history,n=Object(a.useState)(""),c=Object(oe.a)(n,2),u=c[0],o=c[1],l=Object(a.useState)(0),s=Object(oe.a)(l,2),d=s[0],m=s[1],E=Object(p.b)((function(e){return e.products.loading})),f=Object(p.b)((function(e){return e.products.error})),b=Object(p.b)((function(e){return e.alert.alert}));return r.a.createElement("div",null,r.a.createElement("h2",{className:"table__title"},"New product"),r.a.createElement("form",{className:"form",onSubmit:function(e){return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),!(""===u.trim()||d<=0)){n.next=5;break}return le({msg:"All fields are required."}),n.abrupt("return");case 5:return z.dispatch({type:"HIDE_ALERT",payload:null}),n.next=8,i.a.awrap((a={name:u,price:d},z.dispatch(function(e){return{type:"ADD_PRODUCT",payload:!0,product:e}}(a))));case 8:t.push("/");case 9:case"end":return n.stop()}var a}))}},r.a.createElement("section",{className:"form__section"},r.a.createElement("label",null,"Product name"),r.a.createElement("input",{type:"text",placeholder:"Product name",name:"name",value:u,onChange:function(e){return o(e.target.value)}})),r.a.createElement("section",{className:"form__section"},r.a.createElement("label",null,"Product price"),r.a.createElement("input",{type:"number",name:"price",min:"0",value:d,onChange:function(e){return m(Number(e.target.value))}})),r.a.createElement("div",{className:"button__container"},r.a.createElement("button",{type:"button",className:"button button--cancel",onClick:function(){t.push("/")}},"Cancel"),r.a.createElement("button",{className:"button button--confirm"},"Confirm")),b?r.a.createElement("p",{className:"alert-message"},b.msg):null),E?r.a.createElement("p",null,"Loading..."):null,f?r.a.createElement("p",null,"Ups! An error ocurred."):null)}),ie=n(27),pe=(n(78),function(){var e=Object(re.f)(),t=Object(p.b)((function(e){return e.products.editProduct})),n=Object(a.useState)({name:"",price:""}),c=Object(oe.a)(n,2),u=c[0],o=c[1];Object(a.useEffect)((function(){o(t)}),[t]);var l=function(e){o(Object(H.a)({},u,Object(ie.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",null,r.a.createElement("h2",{className:"table__title"},"Edit product"),r.a.createElement("form",{className:"form",onSubmit:function(t){t.preventDefault(),function(e){z.dispatch(function(e){return{type:"BEGIN_EDIT_PRODUCT",product:e}}(e))}(u),e.push("/")}},r.a.createElement("section",{className:"form__section"},r.a.createElement("label",null,"Product name"),r.a.createElement("input",{type:"text",name:"name",value:u.name,onChange:l})),r.a.createElement("section",{className:"form__section"},r.a.createElement("label",null,"Product price"),r.a.createElement("input",{type:"number",name:"price",min:"0",value:u.price,onChange:l})),r.a.createElement("div",{className:"button__container"},r.a.createElement("button",{type:"button",className:"button button--cancel",onClick:function(){e.push("/")}},"Cancel"),r.a.createElement("button",{className:"button button--confirm"},"Confirm"))))});var de=function(){return r.a.createElement(o.a,null,r.a.createElement(p.a,{store:z},r.a.createElement(l,null),r.a.createElement("div",null,r.a.createElement(re.c,null,r.a.createElement(re.a,{exact:!0,path:"/",component:ue}),r.a.createElement(re.a,{exact:!0,path:"/products/new",component:se}),r.a.createElement(re.a,{exact:!0,path:"/products/edit/:id",component:pe})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.131f64c8.chunk.js.map